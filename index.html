<!DOCTYPE html>
<html>
<head>

<meta charset='utf-8' />

<title>Tegevused</title>

<link rel="stylesheet" type="text/css" href="myStyle.css">


<script src='lib/jquery.min.js'></script>
<script src='lib/d3.v4.min.js'></script>
<script src='lib/tabletop.min.js'></script>
<script src='myScript.js'></script>
<script src='helperCode.js'></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/bootstrap-slider.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.8.0/css/bootstrap-slider.min.css">



<script>
    

    var slMax=0;
    var slMin=0;
    
	$(document).ready(function() {
        //callLocalLoad();
        callTabletop();
                
        $('#slide').slider({
            id: "mySlider",
            tooltip: 'always',
            min: 5, max: 12, range: true, value: [5, 12],
          // callback
            formatter: function formatter(val) {
              if (Array.isArray(val)) {
                slMin=val[0];
                slMax=val[1];
                return val[0] + ". kl -  " + val[1] + ". kl";
              } else {
                return val;
              }
            },
            
            slide: function(e,u){
                console.log("test");
            }
            
        }).on('slideStop', callChange);
        
	});



</script>
    

</head>
<body>
    
    <div class="myContainer">
    
    
    
    <hr>
    
    <div style="text-align:center">
    <br>
    <input id="slide" data-slider-id='mySlider' type="text" />
    </div>
    
    <div id="lectures">
        <h1 style="text-align:center; margin-bottom:2em">TÜ pakutavad loengud koolidele</h1>
        
       
        <div>
        <span style="font-size:1.2em">Filtreeri loengud TÜ valdkonna järgi:</span>
        <span class="filt" id="KOIK">KÕIK</span>
        <span class="filt" id="LT">LT</span>
        <span class="filt" id="MED">MED</span>
        <span class="filt" id="SOTS">SOTS</span>
        <span class="filt" id="HUM">HUM</span>
    
        <hr>
        </div>
        
        <p style="font-size:1.2em; margin-bottom:1em">Täpsema info nägemiseks vajutage loengu pealkirjale.</p>
        <p id="wait">Üks hetk, andmeid loetakse Google'i serverist ...</p>
    </div>
    <!--
    <div id="programs"><h1 style="text-align:center; margin-bottom:2em; margin-top:3em">TÜ pakutavad haridusprogammid koolidele</h1><p id="wait">Üks hetk, andmeid loetakse Google'i serverist ...</p></div>
    </div>
    -->
    
</body>

    <script>

        d3.select("#KOIK").on('click', function(){myFilt("KOIK");});
        d3.select("#LT").on('click', function(){myFilt("LT");});
        d3.select("#MED").on('click', function(){myFilt("MED");});
        d3.select("#HUM").on('click', function(){myFilt("HUM");});
        d3.select("#SOTS").on('click', function(){myFilt("SOTS");});
        

        var toggl={};
        toggl["LT"]='block';
        toggl["MED"]='block';
        toggl["HUM"]='block';
        toggl["SOTS"]='block';

        function checkValdkond(vald,d){
            a=d["Valdkond"];
            return toggl[a];
        }
        

        function myFilt(vald){
            
            if (vald=="KOIK"){
                for (var key in toggl) toggl[key]='block';
            }
            else{
                for (var key in toggl) {
                    if (key==vald){
                        toggl[key]='block';
                    }
                    else{
                        toggl[key]='none';
                    }
                }
            }
            
            d3.selectAll(".entry").style("display", function(d){ return checkValdkond(vald,d);});
        }

    </script
</html>    